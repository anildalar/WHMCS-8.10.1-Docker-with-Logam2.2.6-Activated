

<h2>{{ 'modale.text.send.email' | translate }}</h2>
<br>


<form class="form-horizontal" name="sendMailForm" novalidate ng-submit="FormSubmit()" role="form">
    
    <div class="form-group no-margin" ng-class="{ 'has-error': sendMailForm.from.$invalid }">
        <div class="col-sm-2 text-right">
            <label class="control-label primary-font">
                {{ 'resource.emails.form.from' | translate }}
            </label>
        </div>
        <div class="col-sm-10">
            <input type="text" class="form-control" name='from' ng-model="sendMail.from"  readonly>
        </div>
    </div>
    
    <div class="form-group no-margin" ng-class="{ 'has-error': sendMailForm.to.$invalid }">
        <div class="col-sm-2 text-right">
            <label class="control-label primary-font">
                {{ 'resource.emails.form.to' | translate }}
            </label>
        </div>
        <div class="col-sm-10">
            <input type="text" class="form-control" name='to' ng-model="sendMail.to"  readonly>
        </div>
    </div>
    
    <div class="form-group no-margin" ng-class="{ 'has-error': sendMailForm.date.$invalid }">
        <div class="col-sm-2 text-right">
            <label class="control-label primary-font">
                {{ 'resource.emails.form.tpl' | translate }}
            </label>
        </div>
        <div class="col-sm-10">
            <ui-select ng-model="sendMail.template_id" ng-required="true">
                <ui-select-match placeholder="{{ 'resource.emails.form.tpl.tooltip' | translate }}">{{ $select.selected.full }}</ui-select-match>
                <ui-select-choices repeat="template.id as template in templates | filter: $select.search">
                      <div ng-bind-html="template.full | highlight: $select.search"></div>
                </ui-select-choices>
            </ui-select>
            <small class="help-block error" ng-show="sendMail.date.$invalid">{{ 'form.validator.date' | translate }}</small>
        </div>
    </div>
    
    <div class="form-group no-margin" ng-class="{ 'has-error': sendMailForm.withData.$invalid }" ng-show="sendMail.template_id == 0">
        <div class="col-sm-2 text-right">
            <label class="control-label primary-font">
                {{ 'resource.emails.form.subject' | translate }}
            </label>
        </div>
        <div class="col-sm-10">
            <input type="text" class="form-control" ng-model="sendMail.subject" placeholder="{{ ::('resource.emails.form.subject.placeholder' | translate) }}" required>
        </div>
    </div>
    
    <div class="form-group no-margin" ng-class="{ 'has-error': sendMailForm.withData.$invalid }" ng-show="sendMail.template_id == 0">
        <div class="col-sm-2 text-right">
            <label class="control-label primary-font">
                {{ 'resource.emails.form.content' | translate }}
            </label>
        </div>
        <div class="col-sm-10">
            <textarea rows="20" ng-model="sendMail.message" placeholder="{{ ::('resource.emails.form.content.placeholder' | translate) }}" class="form-control" required></textarea>
        </div>
    </div>
    
    <div class="ngdialog-buttons">
        <button type="submit" ng-disabled="sendMail.$invalid" class="ngdialog-button ngdialog-button-primary">{{ 'resource.summary.email.sent' | translate }}</button>
        <button type="button" class="ngdialog-button ngdialog-button-secondary" ng-click="closeThisDialog(0)">{{ 'form.close' | translate }}</button>
        <button type="button" class="ngdialog-button ngdialog-button-primary" style='background-color: #d9534f; border-color: #d43f3a;' ng-click="sendMail.message = ''"><b>{{ 'form.clear.message' | translate }}</b></button>
    </div>
    
</form>




